{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cartList: {\n      // shopId: {\n      //   shopName: '沃尔玛',\n      //   prdauctList: {\n      //   productId: {\n      //     _id: '1',\n      //     name: '番茄250g/份',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n      //     sales: 10,\n      //     price: 33.6,\n      //     oldPrice: 39.6,\n      //     conunt: 2\n      //   },\n      //  }\n\n      // },\n    }\n  },\n  getters: {},\n  mutations: {\n    changeCartItemInfo(state, payload) {\n      const {\n        shopId,\n        productId,\n        productInfo\n      } = payload;\n      let shopInfo = state.cartList[shopId] || {\n        shopName: ''\n      };\n      if (!shopInfo) {\n        shopInfo = {};\n      }\n      let product = shopInfo[productId];\n      if (!product) {\n        product = productInfo;\n        product.count = 0;\n      }\n      product.count = product.count + payload.num;\n      if (payload.num > 0) {\n        product.checked = true;\n      }\n      if (payload.num < 0) {\n        product.count = 0;\n      }\n      shopInfo[productId] = product;\n      state.cartList[shopId] = shopInfo;\n    },\n    changeShopName(state, payload) {\n      const {\n        shopId,\n        shopName\n      } = payload;\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {}\n      };\n      shopInfo.shopName = shopName;\n      state.cartList[shopId] = shopInfo;\n    },\n    changeCartItemChecked(state, payload) {\n      const {\n        shopId,\n        productId\n      } = payload;\n      const product = state.cartList[shopId][productId];\n      product.check = !product.check;\n    },\n    cleanCartProducts(state, payload) {\n      const {\n        shopId\n      } = payload;\n      state.cartList[shopId] = {};\n    },\n    setCartItemsChecked(state, payload) {\n      const {\n        shopId\n      } = payload;\n      const products = state.cartList[shopId];\n      if (products) {\n        for (const key in products) {\n          const product = products[key];\n          product.checked = true;\n        }\n      }\n    }\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","cartList","getters","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopName","product","count","num","checked","changeShopName","productList","changeCartItemChecked","check","cleanCartProducts","setCartItemsChecked","products","key","actions","modules"],"sources":["D:/Besktop/jingdong/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cartList: {\n      // shopId: {\n      //   shopName: '沃尔玛',\n      //   prdauctList: {\n      //   productId: {\n      //     _id: '1',\n      //     name: '番茄250g/份',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n      //     sales: 10,\n      //     price: 33.6,\n      //     oldPrice: 39.6,\n      //     conunt: 2\n      //   },\n      //  }\n\n      // },\n    }\n  },\n  getters: {\n  },\n  mutations: {\n    changeCartItemInfo (state, payload) {\n      const { shopId, productId, productInfo } = payload\n      let shopInfo = state.cartList[shopId] || {\n        shopName: '',\n      }\n      if (!shopInfo) { shopInfo = {} }\n      let product = shopInfo[productId]\n      if (!product) {\n        product = productInfo\n        product.count = 0\n      }\n      product.count = product.count + payload.num\n      if (payload.num > 0) { product.checked = true }\n      if (payload.num < 0) { product.count = 0 }\n      shopInfo[productId] = product\n      state.cartList[shopId] = shopInfo\n    },\n    changeShopName (state, payload) {\n      const { shopId, shopName } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '', productList: {}\n      }\n      shopInfo.shopName = shopName\n      state.cartList[shopId] = shopInfo\n    },\n    changeCartItemChecked (state, payload) {\n      const { shopId, productId } = payload\n      const product = state.cartList[shopId][productId]\n      product.check = !product.check\n    },\n    cleanCartProducts (state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId] = {}\n    },\n    setCartItemsChecked (state, payload) {\n      const { shopId } = payload\n      const products = state.cartList[shopId]\n      if (products) {\n        for (const key in products) {\n          const product = products[key]\n          product.checked = true\n        }\n      }\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACR;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;IAAA;EAEJ,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,kBAAkBA,CAAEJ,KAAK,EAAEK,OAAO,EAAE;MAClC,MAAM;QAAEC,MAAM;QAAEC,SAAS;QAAEC;MAAY,CAAC,GAAGH,OAAO;MAClD,IAAII,QAAQ,GAAGT,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC,IAAI;QACvCI,QAAQ,EAAE;MACZ,CAAC;MACD,IAAI,CAACD,QAAQ,EAAE;QAAEA,QAAQ,GAAG,CAAC,CAAC;MAAC;MAC/B,IAAIE,OAAO,GAAGF,QAAQ,CAACF,SAAS,CAAC;MACjC,IAAI,CAACI,OAAO,EAAE;QACZA,OAAO,GAAGH,WAAW;QACrBG,OAAO,CAACC,KAAK,GAAG,CAAC;MACnB;MACAD,OAAO,CAACC,KAAK,GAAGD,OAAO,CAACC,KAAK,GAAGP,OAAO,CAACQ,GAAG;MAC3C,IAAIR,OAAO,CAACQ,GAAG,GAAG,CAAC,EAAE;QAAEF,OAAO,CAACG,OAAO,GAAG,IAAI;MAAC;MAC9C,IAAIT,OAAO,CAACQ,GAAG,GAAG,CAAC,EAAE;QAAEF,OAAO,CAACC,KAAK,GAAG,CAAC;MAAC;MACzCH,QAAQ,CAACF,SAAS,CAAC,GAAGI,OAAO;MAC7BX,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC,GAAGG,QAAQ;IACnC,CAAC;IACDM,cAAcA,CAAEf,KAAK,EAAEK,OAAO,EAAE;MAC9B,MAAM;QAAEC,MAAM;QAAEI;MAAS,CAAC,GAAGL,OAAO;MACpC,MAAMI,QAAQ,GAAGT,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC,IAAI;QACzCI,QAAQ,EAAE,EAAE;QAAEM,WAAW,EAAE,CAAC;MAC9B,CAAC;MACDP,QAAQ,CAACC,QAAQ,GAAGA,QAAQ;MAC5BV,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC,GAAGG,QAAQ;IACnC,CAAC;IACDQ,qBAAqBA,CAAEjB,KAAK,EAAEK,OAAO,EAAE;MACrC,MAAM;QAAEC,MAAM;QAAEC;MAAU,CAAC,GAAGF,OAAO;MACrC,MAAMM,OAAO,GAAGX,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC,CAACC,SAAS,CAAC;MACjDI,OAAO,CAACO,KAAK,GAAG,CAACP,OAAO,CAACO,KAAK;IAChC,CAAC;IACDC,iBAAiBA,CAAEnB,KAAK,EAAEK,OAAO,EAAE;MACjC,MAAM;QAAEC;MAAO,CAAC,GAAGD,OAAO;MAC1BL,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;IACDc,mBAAmBA,CAAEpB,KAAK,EAAEK,OAAO,EAAE;MACnC,MAAM;QAAEC;MAAO,CAAC,GAAGD,OAAO;MAC1B,MAAMgB,QAAQ,GAAGrB,KAAK,CAACC,QAAQ,CAACK,MAAM,CAAC;MACvC,IAAIe,QAAQ,EAAE;QACZ,KAAK,MAAMC,GAAG,IAAID,QAAQ,EAAE;UAC1B,MAAMV,OAAO,GAAGU,QAAQ,CAACC,GAAG,CAAC;UAC7BX,OAAO,CAACG,OAAO,GAAG,IAAI;QACxB;MACF;IACF;EACF,CAAC;EACDS,OAAO,EAAE,CACT,CAAC;EACDC,OAAO,EAAE,CACT;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}