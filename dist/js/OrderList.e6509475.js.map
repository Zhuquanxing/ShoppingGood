{"version":3,"file":"js/OrderList.e6509475.js","mappings":"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","sources":["webpack://jingdong/./src/components/Docker.vue","webpack://jingdong/./src/components/Docker.vue?f302","webpack://jingdong/./src/views/orderList/OrderList.vue","webpack://jingdong/./src/views/orderList/OrderList.vue?8702"],"sourcesContent":["<template>\r\n<div class=\"docker\">\r\n        <div\r\n        v-for=\"(item, index) in dockerList\"\r\n        :class=\"{'docker_item':true, 'docker_item--active': index=== currentIndex }\"\r\n        class=\"docker_item \"\r\n        :key=\"item.icon\"\r\n        >\r\n        <router-link :to=\"item.to\">\r\n          <div class=\"iconfont\" v-html=\"item.icon\" />\r\n          <div class=\"docker_title\">{{ item.text }}</div>\r\n        </router-link>\r\n        </div>\r\n      </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Docker',\r\n  props: ['currentIndex'],\r\n  setup () {\r\n    const dockerList = [\r\n      { icon: '&#xe630;', text: '首页', to: { name: 'Home' } },\r\n      { icon: '&#xe67b;', text: '购物车', to: { name: 'CartList' } },\r\n      { icon: '&#xe69e;', text: '订单', to: { name: 'OrderList' } },\r\n      { icon: '&#xe639;', text: '我的', to: { name: 'Home' } }\r\n    ]\r\n    return { dockerList }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import '../style/viriables.scss';\r\n.docker {\r\n      display: flex;\r\n      box-sizing: border-box;\r\n      position: absolute;\r\n      padding: 0 18px;\r\n      left: 0;\r\n      bottom: 0;\r\n      width: 100%;\r\n      height: 49px;\r\n      border-top: .01px solid $content-bgColor;\r\n    }\r\n    .docker_item {\r\n     flex: 1;\r\n     text-align: center;\r\n     a {\r\n        color: $content-fontcolor;\r\n        text-decoration: none;\r\n      }\r\n     .iconfont {\r\n      margin: 7px 0 2px 0;\r\n        font-size: 20px;\r\n      }\r\n    }\r\n    .docker_item--active {\r\n      a {\r\n        color: #1FA4FC;\r\n      }\r\n    }\r\n    .docker_title {\r\n      font-size: 20px;\r\n      transform: scale(.5, .5);\r\n      transform-origin: center top;\r\n    }\r\n</style>\r\n","import { render } from \"./Docker.vue?vue&type=template&id=dd91850e&scoped=true\"\nimport script from \"./Docker.vue?vue&type=script&lang=js\"\nexport * from \"./Docker.vue?vue&type=script&lang=js\"\n\nimport \"./Docker.vue?vue&type=style&index=0&id=dd91850e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dd91850e\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"wrapper\">\r\n      <div class=\"title\">我的订单</div>\r\n      <div class=\"orders\">\r\n        <div class=\"order\"\r\n        v-for=\"(item, index) in list\"\r\n        :key=\"index\"\r\n        >\r\n          <div class=\"order_title\">\r\n            {{ item.name }}\r\n            <spen class=\"order_status\">\r\n              {{ item.isCanceled ? '已取消' : '已下单' }}\r\n            </spen>\r\n          </div>\r\n          <div class=\"order_content\">\r\n            <div class=\"order_content_imgs\">\r\n              <template\r\n              v-for=\"(innerItem, innerIndex) in item.products\"\r\n              :key=\"innerIndex\"\r\n              >\r\n              <img\r\n              :src=\"innerItem.products.img\"\r\n              class=\"order_content_img\"\r\n              v-if=\"innerIndex <= 3\"\r\n              />\r\n            </template>\r\n            </div>\r\n            <div class=\"order_content_info\">\r\n              <div class=\"order_content_price\">￥ {{item.totalPrice}}</div>\r\n              <div class=\"order_content_count\">共 {{ item.totalNumber }} 件</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Docker :currentIndex=\"2\"/>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { get } from '../../utils/request'\r\nimport Docker from '../../components/Docker'\r\n\r\nconst useOrderListEffect = () => {\r\n  const data = reactive({ list: [] })\r\n  const getNearbyList = async () => {\r\n    const result = await get('/api/order')\r\n    if (result?.errno === 0 && result?.data?.length) {\r\n      const orderList = result.data\r\n      orderList.forEach((order) => {\r\n        const products = order.products || []\r\n        let totalPrice = 0\r\n        let totalNumber = 0\r\n        products.forEach((productItem) => {\r\n          totalNumber += (productItem?.orderSales || 0)\r\n          totalPrice += ((productItem?.product?.price * productItem?.orderSales) || 0)\r\n        })\r\n        order.totalPrice = totalPrice\r\n        order.totalNumber = totalNumber\r\n      })\r\n      console.log(orderList)\r\n      // data.list = result.data\r\n    }\r\n  }\r\n  getNearbyList()\r\n  const { list } = toRefs(data)\r\n  return { list }\r\n}\r\n\r\nexport default {\r\n  name: 'OrderList',\r\n  components: { Docker },\r\n  setup () {\r\n    const list = useOrderListEffect()\r\n    return { list }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n    .wrapper {\r\n      overflow-y: auto;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      bottom: 5px;\r\n      right: 0;\r\n      background: rgb(248, 248, 248);\r\n    }\r\n    .title {\r\n      line-height: 44px;\r\n      background: $bg_color;\r\n      font-size: 16px;\r\n      color: $content-fontcolor;\r\n      text-align: center;\r\n    }\r\n\r\n    .order {\r\n      margin: 16px 18px;\r\n      padding: 16px;\r\n      background: $bg_color;\r\n      &_title {\r\n        margin-bottom: 16px;\r\n        line-height: 22px;\r\n        font-size: 16px;\r\n        color: $content-fontcolor;\r\n      }\r\n      &_status {\r\n        float: right;\r\n        font-size: 14px;\r\n        color: $light-fontColor;\r\n      }\r\n      &_content {\r\n        display: flex;\r\n        &_imgs {\r\n          flex: 1;\r\n        }\r\n        &_img {\r\n          width: 40px;\r\n          height: 40px;\r\n          margin-right: 12px;\r\n        }\r\n        &_info {\r\n          width: 70px;\r\n        }\r\n        &_price {\r\n          margin-bottom: 4px;\r\n          line-height: 20px;\r\n          font-size: 14px;\r\n          color: $highlight-fontColor;\r\n          text-align: right;\r\n        }\r\n        &_count {\r\n          line-height: 14px;\r\n          font-size: 12px;\r\n          color: $content-fontcolor;\r\n          text-align: right;\r\n        }\r\n      }\r\n    }\r\n</style>\r\n","import { render } from \"./OrderList.vue?vue&type=template&id=16df9f53&scoped=true\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport \"./OrderList.vue?vue&type=style&index=0&id=16df9f53&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16df9f53\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$setup","dockerList","item","index","_normalizeClass","$props","currentIndex","key","icon","_createVNode","_component_router_link","to","default","_withCtx","_createElementVNode","innerHTML","_hoisted_2","_hoisted_3","_toDisplayString","text","_","name","props","setup","__exports__","render","list","_hoisted_4","_createTextVNode","_component_spen","isCanceled","_hoisted_5","_hoisted_6","products","innerItem","innerIndex","src","img","_hoisted_7","_createCommentVNode","_hoisted_8","_hoisted_9","totalPrice","_hoisted_10","totalNumber","_component_Docker","useOrderListEffect","data","reactive","getNearbyList","async","result","get","errno","length","orderList","forEach","order","productItem","orderSales","product","price","console","log","toRefs","components","Docker"],"sourceRoot":""}