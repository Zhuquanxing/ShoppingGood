{"version":3,"file":"js/register.a12219b4.js","mappings":"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","sources":["webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/register/Register.vue","webpack://jingdong/./src/views/register/Register.vue?6e35"],"sourcesContent":["<template>\r\n    <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRef } from 'vue'\r\nexport default {\r\n  props: ['message']\r\n}\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    show: false,\r\n    toastMessage: ''\r\n  })\r\n  const showToast = (message) => {\r\n    toastData.show = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n\r\n  const { show, toastMessage } = toRef(toastData)\r\n  return { show, toastMessage, showToast }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n    position: fixed;\r\n    left:  50%;\r\n    top:  50%;\r\n    transform: translate(-50%, -50%);\r\n    background: rgba(0,0,0, .35);\r\n    border-radius: 5px;\r\n    color: $bg_color;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=0bfde95d&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=0bfde95d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0bfde95d\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"wrapper\">\r\n        <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\"/>\r\n        <div class=\"wrapper__input\">\r\n            <input class=\"wrapper__input__content\" placeholder=\"请输入用户名\"\r\n            v-model=\"username\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input type=\"password\" class=\"wrapper__input__content\" placeholder=\"请输入密码\"\r\n            autocomplete=\"new-password\"\r\n            v-model=\"password\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input class=\"wrapper__input__content\" placeholder=\"确认密码\" type=\"password\"\r\n            v-model=\"ensurement\"\r\n            />\r\n        </div>\r\n        <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n        <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号登录</div>\r\n        <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  })\r\n  const handleRegister = async () => {\r\n    try {\r\n      const result = await post('/api/user/register', {\r\n        username: 'data.username',\r\n        password: 'data.password'\r\n      })\r\n      if (result?.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n        print(result)\r\n      } else {\r\n        showToast('注册失败')\r\n      }\r\n    } catch (e) {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { handleRegister, username, password, ensurement }\r\n}\r\n\r\nconst useLoginEffect = () => {\r\n  const router = useRouter()\r\n  const handleLoginClick = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleLoginClick }\r\n}\r\n\r\nexport default {\r\n  name: 'Register',\r\n  components: { Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const { handleRegister, username, password, ensurement } = useRegisterEffect(showToast)\r\n    const { handleLoginClick } = useLoginEffect()\r\n    return { handleRegister, username, password, ensurement, handleLoginClick, show, toastMessage }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    &__img {\r\n        display: block;\r\n        margin: 0 auto 30px auto;\r\n        width: 66px;\r\n        height: 66px;\r\n    }\r\n    &__input {\r\n        height: 48px;\r\n        margin: 0 35px 16px 35px;\r\n        padding: 0 16px;\r\n        background: #f9f9f9;\r\n        border: 1px solid rgba(0,0,0,0.10);\r\n        border-radius: 6px;\r\n        border-radius: 6px;\r\n        &__content {\r\n            margin-top: 12px;\r\n            line-height: 22px;\r\n            border: none;\r\n            outline: none;\r\n            width: 100%;\r\n            background: none;\r\n            font-size: 16px;\r\n            color: $content-notice-fontcolor;\r\n            &::placeholder {\r\n                color: $content-notice-fontcolor;\r\n            }\r\n        }\r\n    }\r\n    &__register-button {\r\n        margin: 32px 35px 16px 35px;\r\n        line-height: 48px;\r\n        background: $btn-bgColor;\r\n        box-shadow: 0 4px 8px 0 rgba(0,145,255,0.32);\r\n        border-radius: 4px;\r\n        border-radius: 4px;\r\n        color: $bg_color;\r\n        font-size: 16px;\r\n        text-align: center;\r\n    }\r\n    &__register-link {\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: $content-notice-fontcolor;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=6d2de335&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=6d2de335&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d2de335\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRef","__exports__","render","_createElementVNode","src","_hoisted_2","_hoisted_3","placeholder","_cache","$event","$setup","username","_hoisted_4","type","autocomplete","password","_hoisted_5","ensurement","onClick","args","handleRegister","handleLoginClick","_createBlock","_component_Toast","key","_createCommentVNode","useRegisterEffect","router","useRouter","data","async","result","post","errno","push","name","print","e","toRefs","useLoginEffect","components","Toast","setup"],"sourceRoot":""}