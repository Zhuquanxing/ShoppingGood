{"version":3,"file":"js/login_123.50fbabd6.js","mappings":"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","sources":["webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/login/Login.vue","webpack://jingdong/./src/views/login/Login.vue?9557"],"sourcesContent":["<template>\r\n    <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRef } from 'vue'\r\nexport default {\r\n  props: ['message']\r\n}\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    show: false,\r\n    toastMessage: ''\r\n  })\r\n  const showToast = (message) => {\r\n    toastData.show = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n\r\n  const { show, toastMessage } = toRef(toastData)\r\n  return { show, toastMessage, showToast }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n    position: fixed;\r\n    left:  50%;\r\n    top:  50%;\r\n    transform: translate(-50%, -50%);\r\n    background: rgba(0,0,0, .35);\r\n    border-radius: 5px;\r\n    color: $bg_color;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=0bfde95d&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=0bfde95d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0bfde95d\"]])\n\nexport default __exports__","<!-- eslint-disable no-undef -->\r\n<template>\r\n    <div class=\"wrapper\">\r\n        <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\"/>\r\n        <div class=\"wrapper__input\">\r\n            <input class=\"wrapper__input__content\" placeholder=\"用户名\" v-model=\"username\">\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input class=\"wrapper__input__content\" placeholder=\"请输入密码\" v-model=\"password\" autocomplete=\"new-password\"/>\r\n        </div>\r\n        <div class=\"wrapper__login-button\" @click=\" handleLogin \">登录</div>\r\n        <div class=\"wrapper__login-link\" @click=\" handleRegisterClick \">立即注册</div>\r\n        <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nconst useLoginEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({ username: '', password: '' })\r\n  const handleLogin = async () => {\r\n    try {\r\n      const result = await post('/api/user/login', {\r\n        username: 'data.username',\r\n        password: 'data.password'\r\n      })\r\n      localStorage.isLogin = true\r\n      router.push({ name: 'Home' })\r\n      print(result)\r\n      // if (result?.errno === 0) {\r\n\r\n      // } else {\r\n      //   showToast('请求失败')\r\n      // }\r\n    } catch (e) {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n\r\n  const { username, password } = toRefs(data)\r\n  return { handleLogin, username, password }\r\n}\r\n\r\nconst useRegisterEffect = () => {\r\n  const router = useRouter()\r\n  const handleRegisterClick = () => {\r\n    router.push({ name: 'Register' })\r\n  }\r\n  return { handleRegisterClick }\r\n}\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: { Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const { handleLogin, username, password } = useLoginEffect(showToast)\r\n    const { handleRegisterClick } = useRegisterEffect()\r\n\r\n    return {\r\n      username,\r\n      password,\r\n      handleLogin,\r\n      handleRegisterClick,\r\n      show,\r\n      toastMessage\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    &__img {\r\n        display: block;\r\n        margin: 0 auto 30px auto;\r\n        width: 66px;\r\n        height: 66px;\r\n    }\r\n    &__input {\r\n        height: 48px;\r\n        margin: 0 35px 16px 35px;\r\n        padding: 0 16px;\r\n        background: #f9f9f9;\r\n        border: 1px solid rgba(0,0,0,0.10);\r\n        border-radius: 6px;\r\n        border-radius: 6px;\r\n        &__content {\r\n            margin-top: 12px;\r\n            line-height: 22px;\r\n            border: none;\r\n            outline: none;\r\n            width: 100%;\r\n            background: none;\r\n            font-size: 16px;\r\n            color: $content-notice-fontcolor;\r\n            &::placeholder {\r\n                color: $content-notice-fontcolor;\r\n            }\r\n        }\r\n    }\r\n    &__login-button {\r\n        margin: 32px 35px 16px 35px;\r\n        line-height: 48px;\r\n        background: $btn-bgColor;\r\n        box-shadow: 0 4px 8px 0 rgba(0,145,255,0.32);\r\n        border-radius: 4px;\r\n        border-radius: 4px;\r\n        color: $bg_color;\r\n        font-size: 16px;\r\n        text-align: center;\r\n    }\r\n    &__login-link {\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: $content-notice-fontcolor;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=f7fd1018&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=f7fd1018&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f7fd1018\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRef","__exports__","render","_createElementVNode","src","_hoisted_2","_hoisted_3","placeholder","_cache","$event","$setup","username","_hoisted_4","password","autocomplete","onClick","args","handleLogin","handleRegisterClick","_createBlock","_component_Toast","key","_createCommentVNode","useLoginEffect","router","useRouter","data","async","result","post","localStorage","isLogin","push","name","print","e","toRefs","useRegisterEffect","components","Toast","setup"],"sourceRoot":""}