"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[224],{2981:function(e,s,n){n.d(s,{A:function(){return c},g:function(){return d}});var a=n(641),t=n(33);const r={class:"toast"};function o(e,s,n,o,u,p){return(0,a.uX)(),(0,a.CE)("div",r,(0,t.v_)(n.message),1)}var u=n(953),p={props:["message"]};const d=()=>{const e=(0,u.Kh)({show:!1,toastMessage:""}),s=s=>{e.show=!0,e.toastMessage=s,setTimeout((()=>{e.show=!1,e.toastMessage=""}),2e3)},{show:n,toastMessage:a}=(0,u.lW)(e);return{show:n,toastMessage:a,showToast:s}};var l=n(6262);const i=(0,l.A)(p,[["render",o],["__scopeId","data-v-0bfde95d"]]);var c=i},3827:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var a=n(641),t=n(3751);const r=e=>((0,a.Qi)("data-v-6d2de335"),e=e(),(0,a.jt)(),e),o={class:"wrapper"},u=r((()=>(0,a.Lk)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1))),p={class:"wrapper__input"},d={class:"wrapper__input"},l={class:"wrapper__input"};function i(e,s,n,r,i,c){const g=(0,a.g2)("Toast");return(0,a.uX)(),(0,a.CE)("div",o,[u,(0,a.Lk)("div",p,[(0,a.bo)((0,a.Lk)("input",{class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":s[0]||(s[0]=e=>r.username=e)},null,512),[[t.Jo,r.username]])]),(0,a.Lk)("div",d,[(0,a.bo)((0,a.Lk)("input",{type:"password",class:"wrapper__input__content",placeholder:"请输入密码",autocomplete:"new-password","onUpdate:modelValue":s[1]||(s[1]=e=>r.password=e)},null,512),[[t.Jo,r.password]])]),(0,a.Lk)("div",l,[(0,a.bo)((0,a.Lk)("input",{class:"wrapper__input__content",placeholder:"确认密码",type:"password","onUpdate:modelValue":s[2]||(s[2]=e=>r.ensurement=e)},null,512),[[t.Jo,r.ensurement]])]),(0,a.Lk)("div",{class:"wrapper__register-button",onClick:s[3]||(s[3]=(...e)=>r.handleRegister&&r.handleRegister(...e))},"注册"),(0,a.Lk)("div",{class:"wrapper__register-link",onClick:s[4]||(s[4]=(...e)=>r.handleLoginClick&&r.handleLoginClick(...e))},"已有账号登录"),r.show?((0,a.uX)(),(0,a.Wv)(g,{key:0,message:r.toastMessage},null,8,["message"])):(0,a.Q3)("",!0)])}n(4114);var c=n(5220),g=n(953),w=n(5659),m=n(2981);const h=e=>{const s=(0,c.rd)(),n=(0,g.Kh)({username:"",password:"",ensurement:""}),a=async()=>{try{const n=await(0,w.b)("/api/user/register",{username:"data.username",password:"data.password"});0===n?.errno?(s.push({name:"Login"}),print(n)):e("注册失败")}catch(n){e("请求失败")}},{username:t,password:r,ensurement:o}=(0,g.QW)(n);return{handleRegister:a,username:t,password:r,ensurement:o}},_=()=>{const e=(0,c.rd)(),s=()=>{e.push({name:"Login"})};return{handleLoginClick:s}};var k={name:"Register",components:{Toast:m.A},setup(){const{show:e,toastMessage:s,showToast:n}=(0,m.g)(),{handleRegister:a,username:t,password:r,ensurement:o}=h(n),{handleLoginClick:u}=_();return{handleRegister:a,username:t,password:r,ensurement:o,handleLoginClick:u,show:e,toastMessage:s}}},v=n(6262);const L=(0,v.A)(k,[["render",i],["__scopeId","data-v-6d2de335"]]);var f=L}}]);
//# sourceMappingURL=register.a12219b4.js.map